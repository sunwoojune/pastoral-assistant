"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/sermons/new/page",{

/***/ "(app-pages-browser)/./src/lib/message-generator.ts":
/*!**************************************!*\
  !*** ./src/lib/message-generator.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateWeeklyMessages: () => (/* binding */ generateWeeklyMessages),\n/* harmony export */   getScheduledMessages: () => (/* binding */ getScheduledMessages),\n/* harmony export */   saveScheduledMessages: () => (/* binding */ saveScheduledMessages),\n/* harmony export */   updateMessageStatus: () => (/* binding */ updateMessageStatus)\n/* harmony export */ });\n/* harmony import */ var _types_message_template__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/types/message-template */ \"(app-pages-browser)/./src/types/message-template.ts\");\n/* harmony import */ var _lib_kakao_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/kakao-api */ \"(app-pages-browser)/./src/lib/kakao-api.ts\");\n\n\n// 메시지 생성 설정\nconst MESSAGE_CONFIG = {\n    church_name: '은혜교회',\n    pastor_phone: '010-1234-5678',\n    domain: 'https://your-domain.com' // 실제 배포 시 변경 필요\n};\n// 템플릿 변수 치환 함수\nconst replaceTemplateVariables = (template, variables)=>{\n    return template.replace(/\\{\\{(\\w+)\\}\\}/g, (match, key)=>{\n        return variables[key] || match;\n    });\n};\n// 설교 내용을 바탕으로 각 요일별 메시지 생성\nconst generateWeeklyMessages = (sermon)=>{\n    const messages = [];\n    // 기본 변수들\n    const baseVariables = {\n        church_name: MESSAGE_CONFIG.church_name,\n        pastor_phone: MESSAGE_CONFIG.pastor_phone,\n        domain: MESSAGE_CONFIG.domain,\n        sermon_id: sermon.id,\n        sermon_title: sermon.title,\n        scripture: sermon.scripture,\n        summary: sermon.summary\n    };\n    // 설교 날짜 기준으로 발송 날짜 계산\n    const sermonDate = new Date(sermon.date);\n    _types_message_template__WEBPACK_IMPORTED_MODULE_0__.MESSAGE_TEMPLATES.forEach((template)=>{\n        var _template_button_template;\n        // 발송 날짜 계산\n        const sendDate = new Date(sermonDate);\n        const daysToAdd = template.schedule.day_of_week - sermonDate.getDay();\n        sendDate.setDate(sermonDate.getDate() + (daysToAdd > 0 ? daysToAdd : daysToAdd + 7));\n        sendDate.setHours(template.schedule.hour, template.schedule.minute, 0, 0);\n        // 각 템플릿별 특화 변수\n        let specificVariables = {\n            ...baseVariables\n        };\n        switch(template.type){\n            case 'monday':\n                break;\n            case 'wednesday':\n                // 수요일: 묵상 질문 추출\n                const meditationLines = sermon.meditation.split('\\n');\n                const questions = meditationLines.filter((line)=>line.includes('?') || line.includes('묵상')).slice(0, 2).map((q, i)=>\"\".concat(i + 1, \". \").concat(q.trim())).join('\\n');\n                specificVariables.meditation_questions = questions || '오늘 받은 은혜를 돌아보며 하나님께 감사드리세요.';\n                break;\n            case 'friday':\n                // 금요일: 실천과제 체크리스트\n                const tasks = sermon.practical_tasks.slice(0, 3).map((task, i)=>\"\".concat(i + 1, \". \").concat(task)).join('\\n');\n                specificVariables.practical_tasks = tasks;\n                break;\n        }\n        // 메시지 내용 생성\n        const content = replaceTemplateVariables(template.content_template, specificVariables);\n        // 버튼 URL 변수 치환\n        const buttons = ((_template_button_template = template.button_template) === null || _template_button_template === void 0 ? void 0 : _template_button_template.map((btn)=>({\n                ...btn,\n                url: btn.url ? replaceTemplateVariables(btn.url, specificVariables) : btn.url\n            }))) || [];\n        // 실제 교인 목록에서 메시지 수신자 조회\n        let recipients = [];\n        try {\n            const { memberStorage } = __webpack_require__(/*! @/lib/member-storage */ \"(app-pages-browser)/./src/lib/member-storage.ts\");\n            // 메시지 타입별 수신자 조회\n            let messageType;\n            switch(template.type){\n                case 'monday':\n                    messageType = 'receive_sermon_summary';\n                    break;\n                case 'wednesday':\n                    messageType = 'receive_meditation';\n                    break;\n                case 'friday':\n                    messageType = 'receive_practice_check';\n                    break;\n                default:\n                    messageType = 'receive_sermon_summary';\n            }\n            const activeRecipients = memberStorage.getMessageRecipients(messageType);\n            recipients = activeRecipients.map((member)=>member.phone);\n            console.log(\"\\uD83D\\uDCF1 \".concat(template.type, \" 메시지 수신자: \").concat(recipients.length, \"명\"));\n        } catch (error) {\n            console.warn('교인 목록 조회 실패, 더미 데이터 사용:', error);\n            // fallback: 더미 연락처\n            recipients = [\n                '010-1111-2222',\n                '010-3333-4444',\n                '010-5555-6666'\n            ];\n        }\n        // 각 교인별로 메시지 생성\n        recipients.forEach((phone)=>{\n            messages.push({\n                template_id: template.id,\n                sermon_id: sermon.id,\n                recipient_phone: phone,\n                content: content,\n                buttons: buttons,\n                scheduled_time: sendDate.toISOString(),\n                status: 'pending'\n            });\n        });\n    });\n    return messages;\n};\n// 특정 날짜의 발송 예정 메시지 조회\nconst getScheduledMessages = (date)=>{\n    // localStorage에서 예약된 메시지 조회\n    const storedMessages = localStorage.getItem('shepherd-care-scheduled-messages');\n    if (!storedMessages) return [];\n    const messages = JSON.parse(storedMessages);\n    const targetDate = date.toDateString();\n    return messages.filter((msg)=>{\n        const msgDate = new Date(msg.scheduled_time).toDateString();\n        return msgDate === targetDate && msg.status === 'pending';\n    });\n};\n// 메시지 예약 저장\nconst saveScheduledMessages = (messages)=>{\n    const existing = localStorage.getItem('shepherd-care-scheduled-messages');\n    const existingMessages = existing ? JSON.parse(existing) : [];\n    const allMessages = [\n        ...existingMessages,\n        ...messages\n    ];\n    localStorage.setItem('shepherd-care-scheduled-messages', JSON.stringify(allMessages));\n    // 새로운 카카오톡 API 큐에도 추가\n    messages.forEach((message)=>{\n        // 템플릿 코드 매핑\n        const templateCodeMap = {\n            'monday_summary': 'SERMON_SUMMARY_001',\n            'wednesday_meditation': 'MEDITATION_002',\n            'friday_practice': 'PRACTICE_CHECK_003'\n        };\n        const templateCode = templateCodeMap[message.template_id];\n        if (templateCode) {\n            var _message_buttons;\n            const queueItem = {\n                type: 'ALIMTALK',\n                template_code: templateCode,\n                recipient_phone: message.recipient_phone,\n                content: message.content,\n                template_variables: extractVariables(message.content, templateCode),\n                buttons: (_message_buttons = message.buttons) === null || _message_buttons === void 0 ? void 0 : _message_buttons.map((btn)=>({\n                        text: btn.text,\n                        type: btn.type,\n                        url: btn.url\n                    })),\n                scheduled_time: message.scheduled_time,\n                priority: 'NORMAL',\n                max_retries: 3,\n                sermon_id: message.sermon_id,\n                member_id: extractMemberIdFromPhone(message.recipient_phone)\n            };\n            _lib_kakao_api__WEBPACK_IMPORTED_MODULE_1__.messageQueue.enqueue(queueItem);\n        }\n    });\n};\n// 메시지 상태 업데이트\nconst updateMessageStatus = (messageId, status)=>{\n    const stored = localStorage.getItem('shepherd-care-scheduled-messages');\n    if (!stored) return;\n    const messages = JSON.parse(stored);\n    const messageIndex = messages.findIndex((msg)=>\"\".concat(msg.sermon_id, \"-\").concat(msg.template_id, \"-\").concat(msg.recipient_phone) === messageId);\n    if (messageIndex !== -1) {\n        messages[messageIndex].status = status;\n        localStorage.setItem('shepherd-care-scheduled-messages', JSON.stringify(messages));\n    }\n};\n// 템플릿 변수 추출 (메시지 내용에서 변수 추출)\nfunction extractVariables(content, templateCode) {\n    // 실제로는 더 정교한 파싱이 필요하지만, 간단한 구현\n    const variables = {};\n    // 교회명 추출\n    if (content.includes('은혜교회')) {\n        variables.church_name = '은혜교회';\n    }\n    // 더 많은 변수 추출 로직을 여기에 추가...\n    return variables;\n}\n// 전화번호로 교인 ID 찾기\nfunction extractMemberIdFromPhone(phone) {\n    try {\n        const { memberStorage } = __webpack_require__(/*! @/lib/member-storage */ \"(app-pages-browser)/./src/lib/member-storage.ts\");\n        const members = memberStorage.getAll();\n        const member = members.find((m)=>m.phone === phone);\n        return member === null || member === void 0 ? void 0 : member.id;\n    } catch (error) {\n        return undefined;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvbWVzc2FnZS1nZW5lcmF0b3IudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQzZHO0FBQy9EO0FBRzlDLFlBQVk7QUFDWixNQUFNRSxpQkFBaUI7SUFDckJDLGFBQWE7SUFDYkMsY0FBYztJQUNkQyxRQUFRLDBCQUEwQixnQkFBZ0I7QUFDcEQ7QUFFQSxlQUFlO0FBQ2YsTUFBTUMsMkJBQTJCLENBQUNDLFVBQWtCQztJQUNsRCxPQUFPRCxTQUFTRSxPQUFPLENBQUMsa0JBQWtCLENBQUNDLE9BQU9DO1FBQ2hELE9BQU9ILFNBQVMsQ0FBQ0csSUFBSSxJQUFJRDtJQUMzQjtBQUNGO0FBRUEsMkJBQTJCO0FBQ3BCLE1BQU1FLHlCQUF5QixDQUFDQztJQUNyQyxNQUFNQyxXQUE2QixFQUFFO0lBRXJDLFNBQVM7SUFDVCxNQUFNQyxnQkFBZ0I7UUFDcEJaLGFBQWFELGVBQWVDLFdBQVc7UUFDdkNDLGNBQWNGLGVBQWVFLFlBQVk7UUFDekNDLFFBQVFILGVBQWVHLE1BQU07UUFDN0JXLFdBQVdILE9BQU9JLEVBQUU7UUFDcEJDLGNBQWNMLE9BQU9NLEtBQUs7UUFDMUJDLFdBQVdQLE9BQU9PLFNBQVM7UUFDM0JDLFNBQVNSLE9BQU9RLE9BQU87SUFDekI7SUFFQSxzQkFBc0I7SUFDdEIsTUFBTUMsYUFBYSxJQUFJQyxLQUFLVixPQUFPVyxJQUFJO0lBRXZDeEIsc0VBQWlCQSxDQUFDeUIsT0FBTyxDQUFDbEIsQ0FBQUE7WUEwQ1VBO1FBekNsQyxXQUFXO1FBQ1gsTUFBTW1CLFdBQVcsSUFBSUgsS0FBS0Q7UUFDMUIsTUFBTUssWUFBWXBCLFNBQVNxQixRQUFRLENBQUNDLFdBQVcsR0FBR1AsV0FBV1EsTUFBTTtRQUNuRUosU0FBU0ssT0FBTyxDQUFDVCxXQUFXVSxPQUFPLEtBQU1MLENBQUFBLFlBQVksSUFBSUEsWUFBWUEsWUFBWTtRQUNqRkQsU0FBU08sUUFBUSxDQUFDMUIsU0FBU3FCLFFBQVEsQ0FBQ00sSUFB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QUNGLE1BQU0sRUFBRU4sYUFBYSxFQUFFLEdBQUdDLG1CQUFPQSxDQUFDLDZFQUFzQjtRQUN4RCxNQUFNbUQsVUFBVXBELGNBQWNxRCxNQUFNO1FBQ3BDLE1BQU1oRCxTQUFTK0MsUUFBUUUsSUFBSSxDQUFDLENBQUNDLElBQVdBLEVBQUVqRCxLQUFLLEtBQUtBO1FBQ3BELE9BQU9ELG1CQUFBQSw2QkFBQUEsT0FBUWxELEVBQUU7SUFDbkIsRUFBRSxPQUFPdUQsT0FBTztRQUNkLE9BQU84QztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcc3dqbmlcXFBhc3RvcmFsIEFzc2lzdGFudFxcc3JjXFxsaWJcXG1lc3NhZ2UtZ2VuZXJhdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlcm1vbkNvbnRlbnQgfSBmcm9tICdAL3R5cGVzL21pbmlzdHJ5LWNvbnRlbnQnXG5pbXBvcnQgeyBNZXNzYWdlVGVtcGxhdGUsIE1FU1NBR0VfVEVNUExBVEVTLCBNZXNzYWdlQ29udGVudCwgQnV0dG9uVGVtcGxhdGUgfSBmcm9tICdAL3R5cGVzL21lc3NhZ2UtdGVtcGxhdGUnXG5pbXBvcnQgeyBtZXNzYWdlUXVldWUgfSBmcm9tICdAL2xpYi9rYWthby1hcGknXG5pbXBvcnQgeyBNZXNzYWdlUXVldWVJdGVtIH0gZnJvbSAnQC90eXBlcy9rYWthby1hcGknXG5cbi8vIOuplOyLnOyngCDsg53shLEg7ISk7KCVXG5jb25zdCBNRVNTQUdFX0NPTkZJRyA9IHtcbiAgY2h1cmNoX25hbWU6ICfsnYDtmJzqtZDtmownLFxuICBwYXN0b3JfcGhvbmU6ICcwMTAtMTIzNC01Njc4JyxcbiAgZG9tYWluOiAnaHR0cHM6Ly95b3VyLWRvbWFpbi5jb20nIC8vIOyLpOygnCDrsLDtj6wg7IucIOuzgOqyvSDtlYTsmpRcbn1cblxuLy8g7YWc7ZSM66a/IOuzgOyImCDsuZjtmZgg7ZWo7IiYXG5jb25zdCByZXBsYWNlVGVtcGxhdGVWYXJpYWJsZXMgPSAodGVtcGxhdGU6IHN0cmluZywgdmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoL1xce1xceyhcXHcrKVxcfVxcfS9nLCAobWF0Y2gsIGtleSkgPT4ge1xuICAgIHJldHVybiB2YXJpYWJsZXNba2V5XSB8fCBtYXRjaFxuICB9KVxufVxuXG4vLyDshKTqtZAg64K07Jqp7J2EIOuwlO2DleycvOuhnCDqsIEg7JqU7J2867OEIOuplOyLnOyngCDsg53shLFcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVdlZWtseU1lc3NhZ2VzID0gKHNlcm1vbjogU2VybW9uQ29udGVudCk6IE1lc3NhZ2VDb250ZW50W10gPT4ge1xuICBjb25zdCBtZXNzYWdlczogTWVzc2FnZUNvbnRlbnRbXSA9IFtdXG4gIFxuICAvLyDquLDrs7gg67OA7IiY65OkXG4gIGNvbnN0IGJhc2VWYXJpYWJsZXMgPSB7XG4gICAgY2h1cmNoX25hbWU6IE1FU1NBR0VfQ09ORklHLmNodXJjaF9uYW1lLFxuICAgIHBhc3Rvcl9waG9uZTogTUVTU0FHRV9DT05GSUcucGFzdG9yX3Bob25lLFxuICAgIGRvbWFpbjogTUVTU0FHRV9DT05GSUcuZG9tYWluLFxuICAgIHNlcm1vbl9pZDogc2VybW9uLmlkLFxuICAgIHNlcm1vbl90aXRsZTogc2VybW9uLnRpdGxlLFxuICAgIHNjcmlwdHVyZTogc2VybW9uLnNjcmlwdHVyZSxcbiAgICBzdW1tYXJ5OiBzZXJtb24uc3VtbWFyeVxuICB9XG5cbiAgLy8g7ISk6rWQIOuCoOynnCDquLDspIDsnLzroZwg67Cc7IahIOuCoOynnCDqs4TsgrBcbiAgY29uc3Qgc2VybW9uRGF0ZSA9IG5ldyBEYXRlKHNlcm1vbi5kYXRlKVxuICBcbiAgTUVTU0FHRV9URU1QTEFURVMuZm9yRWFjaCh0ZW1wbGF0ZSA9PiB7XG4gICAgLy8g67Cc7IahIOuCoOynnCDqs4TsgrBcbiAgICBjb25zdCBzZW5kRGF0ZSA9IG5ldyBEYXRlKHNlcm1vbkRhdGUpXG4gICAgY29uc3QgZGF5c1RvQWRkID0gdGVtcGxhdGUuc2NoZWR1bGUuZGF5X29mX3dlZWsgLSBzZXJtb25EYXRlLmdldERheSgpXG4gICAgc2VuZERhdGUuc2V0RGF0ZShzZXJtb25EYXRlLmdldERhdGUoKSArIChkYXlzVG9BZGQgPiAwID8gZGF5c1RvQWRkIDogZGF5c1RvQWRkICsgNykpXG4gICAgc2VuZERhdGUuc2V0SG91cnModGVtcGxhdGUuc2NoZWR1bGUuaG91ciwgdGVtcGxhdGUuc2NoZWR1bGUubWludXRlLCAwLCAwKVxuXG4gICAgLy8g6rCBIO2FnO2UjOumv+uzhCDtirntmZQg67OA7IiYXG4gICAgbGV0IHNwZWNpZmljVmFyaWFibGVzID0geyAuLi5iYXNlVmFyaWFibGVzIH1cbiAgICBcbiAgICBzd2l0Y2ggKHRlbXBsYXRlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ21vbmRheSc6XG4gICAgICAgIC8vIOyblOyalOydvDog7JqU7JW9IOykkeyLrFxuICAgICAgICBicmVha1xuICAgICAgICBcbiAgICAgIGNhc2UgJ3dlZG5lc2RheSc6XG4gICAgICAgIC8vIOyImOyalOydvDog66y17IOBIOyniOusuCDstpTstpxcbiAgICAgICAgY29uc3QgbWVkaXRhdGlvbkxpbmVzID0gc2VybW9uLm1lZGl0YXRpb24uc3BsaXQoJ1xcbicpXG4gICAgICAgIGNvbnN0IHF1ZXN0aW9ucyA9IG1lZGl0YXRpb25MaW5lc1xuICAgICAgICAgIC5maWx0ZXIobGluZSA9PiBsaW5lLmluY2x1ZGVzKCc/JykgfHwgbGluZS5pbmNsdWRlcygn66y17IOBJykpXG4gICAgICAgICAgLnNsaWNlKDAsIDIpXG4gICAgICAgICAgLm1hcCgocSwgaSkgPT4gYCR7aSArIDF9LiAke3EudHJpbSgpfWApXG4gICAgICAgICAgLmpvaW4oJ1xcbicpXG4gICAgICAgIFxuICAgICAgICBzcGVjaWZpY1ZhcmlhYmxlcy5tZWRpdGF0aW9uX3F1ZXN0aW9ucyA9IHF1ZXN0aW9ucyB8fCAn7Jik64qYIOuwm+ydgCDsnYDtmJzrpbwg64+M7JWE67O066mwIO2VmOuCmOuLmOq7mCDqsJDsgqzrk5zrpqzshLjsmpQuJ1xuICAgICAgICBicmVha1xuICAgICAgICBcbiAgICAgIGNhc2UgJ2ZyaWRheSc6XG4gICAgICAgIC8vIOq4iOyalOydvDog7Iuk7LKc6rO87KCcIOyytO2BrOumrOyKpO2KuFxuICAgICAgICBjb25zdCB0YXNrcyA9IHNlcm1vbi5wcmFjdGljYWxfdGFza3NcbiAgICAgICAgICAuc2xpY2UoMCwgMylcbiAgICAgICAgICAubWFwKCh0YXNrLCBpKSA9PiBgJHtpICsgMX0uICR7dGFza31gKVxuICAgICAgICAgIC5qb2luKCdcXG4nKVxuICAgICAgICBcbiAgICAgICAgc3BlY2lmaWNWYXJpYWJsZXMucHJhY3RpY2FsX3Rhc2tzID0gdGFza3NcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICAvLyDrqZTsi5zsp4Ag64K07JqpIOyDneyEsVxuICAgIGNvbnN0IGNvbnRlbnQgPSByZXBsYWNlVGVtcGxhdGVWYXJpYWJsZXModGVtcGxhdGUuY29udGVudF90ZW1wbGF0ZSwgc3BlY2lmaWNWYXJpYWJsZXMpXG4gICAgXG4gICAgLy8g67KE7Yq8IFVSTCDrs4DsiJgg7LmY7ZmYXG4gICAgY29uc3QgYnV0dG9uczogQnV0dG9uVGVtcGxhdGVbXSA9IHRlbXBsYXRlLmJ1dHRvbl90ZW1wbGF0ZT8ubWFwKGJ0biA9PiAoe1xuICAgICAgLi4uYnRuLFxuICAgICAgdXJsOiBidG4udXJsID8gcmVwbGFjZVRlbXBsYXRlVmFyaWFibGVzKGJ0bi51cmwsIHNwZWNpZmljVmFyaWFibGVzKSA6IGJ0bi51cmxcbiAgICB9KSkgfHwgW11cblxuICAgIC8vIOyLpOygnCDqtZDsnbgg66qp66Gd7JeQ7IScIOuplOyLnOyngCDsiJjsi6DsnpAg7KGw7ZqMXG4gICAgbGV0IHJlY2lwaWVudHM6IHN0cmluZ1tdID0gW11cbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBtZW1iZXJTdG9yYWdlIH0gPSByZXF1aXJlKCdAL2xpYi9tZW1iZXItc3RvcmFnZScpXG4gICAgICBcbiAgICAgIC8vIOuplOyLnOyngCDtg4DsnoXrs4Qg7IiY7Iug7J6QIOyhsO2ajFxuICAgICAgbGV0IG1lc3NhZ2VUeXBlOiBrZXlvZiBhbnlbJ21lc3NhZ2Vfc2V0dGluZ3MnXVxuICAgICAgXG4gICAgICBzd2l0Y2ggKHRlbXBsYXRlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnbW9uZGF5JzpcbiAgICAgICAgICBtZXNzYWdlVHlwZSA9ICdyZWNlaXZlX3Nlcm1vbl9zdW1tYXJ5J1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3dlZG5lc2RheSc6IFxuICAgICAgICAgIG1lc3NhZ2VUeXBlID0gJ3JlY2VpdmVfbWVkaXRhdGlvbidcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdmcmlkYXknOlxuICAgICAgICAgIG1lc3NhZ2VUeXBlID0gJ3JlY2VpdmVfcHJhY3RpY2VfY2hlY2snXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBtZXNzYWdlVHlwZSA9ICdyZWNlaXZlX3Nlcm1vbl9zdW1tYXJ5J1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBhY3RpdmVSZWNpcGllbnRzID0gbWVtYmVyU3RvcmFnZS5nZXRNZXNzYWdlUmVjaXBpZW50cyhtZXNzYWdlVHlwZSlcbiAgICAgIHJlY2lwaWVudHMgPSBhY3RpdmVSZWNpcGllbnRzLm1hcCgobWVtYmVyOiBhbnkpID0+IG1lbWJlci5waG9uZSlcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYPCfk7EgJHt0ZW1wbGF0ZS50eXBlfSDrqZTsi5zsp4Ag7IiY7Iug7J6QOiAke3JlY2lwaWVudHMubGVuZ3RofeuqhWApXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2Fybign6rWQ7J24IOuqqeuhnSDsobDtmowg7Iuk7YyoLCDrjZTrr7gg642w7J207YSwIOyCrOyaqTonLCBlcnJvcilcbiAgICAgIC8vIGZhbGxiYWNrOiDrjZTrr7gg7Jew65297LKYXG4gICAgICByZWNpcGllbnRzID0gWycwMTAtMTExMS0yMjIyJywgJzAxMC0zMzMzLTQ0NDQnLCAnMDEwLTU1NTUtNjY2NiddXG4gICAgfVxuXG4gICAgLy8g6rCBIOq1kOyduOuzhOuhnCDrqZTsi5zsp4Ag7IOd7ISxXG4gICAgcmVjaXBpZW50cy5mb3JFYWNoKHBob25lID0+IHtcbiAgICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICB0ZW1wbGF0ZV9pZDogdGVtcGxhdGUuaWQsXG4gICAgICAgIHNlcm1vbl9pZDogc2VybW9uLmlkLFxuICAgICAgICByZWNpcGllbnRfcGhvbmU6IHBob25lLFxuICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICBidXR0b25zOiBidXR0b25zLFxuICAgICAgICBzY2hlZHVsZWRfdGltZTogc2VuZERhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZydcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICByZXR1cm4gbWVzc2FnZXNcbn1cblxuLy8g7Yq57KCVIOuCoOynnOydmCDrsJzshqEg7JiI7KCVIOuplOyLnOyngCDsobDtmoxcbmV4cG9ydCBjb25zdCBnZXRTY2hlZHVsZWRNZXNzYWdlcyA9IChkYXRlOiBEYXRlKTogTWVzc2FnZUNvbnRlbnRbXSA9PiB7XG4gIC8vIGxvY2FsU3RvcmFnZeyXkOyEnCDsmIjslb3rkJwg66mU7Iuc7KeAIOyhsO2ajFxuICBjb25zdCBzdG9yZWRNZXNzYWdlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzaGVwaGVyZC1jYXJlLXNjaGVkdWxlZC1tZXNzYWdlcycpXG4gIGlmICghc3RvcmVkTWVzc2FnZXMpIHJldHVybiBbXVxuXG4gIGNvbnN0IG1lc3NhZ2VzOiBNZXNzYWdlQ29udGVudFtdID0gSlNPTi5wYXJzZShzdG9yZWRNZXNzYWdlcylcbiAgY29uc3QgdGFyZ2V0RGF0ZSA9IGRhdGUudG9EYXRlU3RyaW5nKClcblxuICByZXR1cm4gbWVzc2FnZXMuZmlsdGVyKG1zZyA9PiB7XG4gICAgY29uc3QgbXNnRGF0ZSA9IG5ldyBEYXRlKG1zZy5zY2hlZHVsZWRfdGltZSkudG9EYXRlU3RyaW5nKClcbiAgICByZXR1cm4gbXNnRGF0ZSA9PT0gdGFyZ2V0RGF0ZSAmJiBtc2cuc3RhdHVzID09PSAncGVuZGluZydcbiAgfSlcbn1cblxuLy8g66mU7Iuc7KeAIOyYiOyVvSDsoIDsnqVcbmV4cG9ydCBjb25zdCBzYXZlU2NoZWR1bGVkTWVzc2FnZXMgPSAobWVzc2FnZXM6IE1lc3NhZ2VDb250ZW50W10pOiB2b2lkID0+IHtcbiAgY29uc3QgZXhpc3RpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2hlcGhlcmQtY2FyZS1zY2hlZHVsZWQtbWVzc2FnZXMnKVxuICBjb25zdCBleGlzdGluZ01lc3NhZ2VzOiBNZXNzYWdlQ29udGVudFtdID0gZXhpc3RpbmcgPyBKU09OLnBhcnNlKGV4aXN0aW5nKSA6IFtdXG4gIFxuICBjb25zdCBhbGxNZXNzYWdlcyA9IFsuLi5leGlzdGluZ01lc3NhZ2VzLCAuLi5tZXNzYWdlc11cbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NoZXBoZXJkLWNhcmUtc2NoZWR1bGVkLW1lc3NhZ2VzJywgSlNPTi5zdHJpbmdpZnkoYWxsTWVzc2FnZXMpKVxuXG4gIC8vIOyDiOuhnOyatCDsubTsubTsmKTthqEgQVBJIO2BkOyXkOuPhCDstpTqsIBcbiAgbWVzc2FnZXMuZm9yRWFjaChtZXNzYWdlID0+IHtcbiAgICAvLyDthZztlIzrpr8g7L2U65OcIOunpO2VkVxuICAgIGNvbnN0IHRlbXBsYXRlQ29kZU1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICdtb25kYXlfc3VtbWFyeSc6ICdTRVJNT05fU1VNTUFSWV8wMDEnLFxuICAgICAgJ3dlZG5lc2RheV9tZWRpdGF0aW9uJzogJ01FRElUQVRJT05fMDAyJywgXG4gICAgICAnZnJpZGF5X3ByYWN0aWNlJzogJ1BSQUNUSUNFX0NIRUNLXzAwMydcbiAgICB9XG5cbiAgICBjb25zdCB0ZW1wbGF0ZUNvZGUgPSB0ZW1wbGF0ZUNvZGVNYXBbbWVzc2FnZS50ZW1wbGF0ZV9pZF1cbiAgICBpZiAodGVtcGxhdGVDb2RlKSB7XG4gICAgICBjb25zdCBxdWV1ZUl0ZW06IE9taXQ8TWVzc2FnZVF1ZXVlSXRlbSwgJ2lkJyB8ICdjcmVhdGVkX2F0JyB8ICdzdGF0dXMnIHwgJ3JldHJ5X2NvdW50Jz4gPSB7XG4gICAgICAgIHR5cGU6ICdBTElNVEFMSycsXG4gICAgICAgIHRlbXBsYXRlX2NvZGU6IHRlbXBsYXRlQ29kZSxcbiAgICAgICAgcmVjaXBpZW50X3Bob25lOiBtZXNzYWdlLnJlY2lwaWVudF9waG9uZSxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICB0ZW1wbGF0ZV92YXJpYWJsZXM6IGV4dHJhY3RWYXJpYWJsZXMobWVzc2FnZS5jb250ZW50LCB0ZW1wbGF0ZUNvZGUpLFxuICAgICAgICBidXR0b25zOiBtZXNzYWdlLmJ1dHRvbnM/Lm1hcChidG4gPT4gKHtcbiAgICAgICAgICB0ZXh0OiBidG4udGV4dCxcbiAgICAgICAgICB0eXBlOiBidG4udHlwZSxcbiAgICAgICAgICB1cmw6IGJ0bi51cmxcbiAgICAgICAgfSkpLFxuICAgICAgICBzY2hlZHVsZWRfdGltZTogbWVzc2FnZS5zY2hlZHVsZWRfdGltZSxcbiAgICAgICAgcHJpb3JpdHk6ICdOT1JNQUwnLFxuICAgICAgICBtYXhfcmV0cmllczogMyxcbiAgICAgICAgc2VybW9uX2lkOiBtZXNzYWdlLnNlcm1vbl9pZCxcbiAgICAgICAgbWVtYmVyX2lkOiBleHRyYWN0TWVtYmVySWRGcm9tUGhvbmUobWVzc2FnZS5yZWNpcGllbnRfcGhvbmUpXG4gICAgICB9XG5cbiAgICAgIG1lc3NhZ2VRdWV1ZS5lbnF1ZXVlKHF1ZXVlSXRlbSlcbiAgICB9XG4gIH0pXG59XG5cbi8vIOuplOyLnOyngCDsg4Htg5wg7JeF642w7J207Yq4XG5leHBvcnQgY29uc3QgdXBkYXRlTWVzc2FnZVN0YXR1cyA9IChtZXNzYWdlSWQ6IHN0cmluZywgc3RhdHVzOiBNZXNzYWdlQ29udGVudFsnc3RhdHVzJ10pOiB2b2lkID0+IHtcbiAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NoZXBoZXJkLWNhcmUtc2NoZWR1bGVkLW1lc3NhZ2VzJylcbiAgaWYgKCFzdG9yZWQpIHJldHVyblxuXG4gIGNvbnN0IG1lc3NhZ2VzOiBNZXNzYWdlQ29udGVudFtdID0gSlNPTi5wYXJzZShzdG9yZWQpXG4gIGNvbnN0IG1lc3NhZ2VJbmRleCA9IG1lc3NhZ2VzLmZpbmRJbmRleChtc2cgPT4gXG4gICAgYCR7bXNnLnNlcm1vbl9pZH0tJHttc2cudGVtcGxhdGVfaWR9LSR7bXNnLnJlY2lwaWVudF9waG9uZX1gID09PSBtZXNzYWdlSWRcbiAgKVxuXG4gIGlmIChtZXNzYWdlSW5kZXggIT09IC0xKSB7XG4gICAgbWVzc2FnZXNbbWVzc2FnZUluZGV4XS5zdGF0dXMgPSBzdGF0dXNcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2hlcGhlcmQtY2FyZS1zY2hlZHVsZWQtbWVzc2FnZXMnLCBKU09OLnN0cmluZ2lmeShtZXNzYWdlcykpXG4gIH1cbn1cblxuLy8g7YWc7ZSM66a/IOuzgOyImCDstpTstpwgKOuplOyLnOyngCDrgrTsmqnsl5DshJwg67OA7IiYIOy2lOy2nClcbmZ1bmN0aW9uIGV4dHJhY3RWYXJpYWJsZXMoY29udGVudDogc3RyaW5nLCB0ZW1wbGF0ZUNvZGU6IHN0cmluZyk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICAvLyDsi6TsoJzroZzripQg642UIOygleq1kO2VnCDtjIzsi7HsnbQg7ZWE7JqU7ZWY7KeA66eMLCDqsITri6jtlZwg6rWs7ZiEXG4gIGNvbnN0IHZhcmlhYmxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9XG4gIFxuICAvLyDqtZDtmozrqoUg7LaU7LacXG4gIGlmIChjb250ZW50LmluY2x1ZGVzKCfsnYDtmJzqtZDtmownKSkge1xuICAgIHZhcmlhYmxlcy5jaHVyY2hfbmFtZSA9ICfsnYDtmJzqtZDtmownXG4gIH1cbiAgXG4gIC8vIOuNlCDrp47snYAg67OA7IiYIOy2lOy2nCDroZzsp4HsnYQg7Jes6riw7JeQIOy2lOqwgC4uLlxuICBcbiAgcmV0dXJuIHZhcmlhYmxlc1xufVxuXG4vLyDsoITtmZTrsojtmLjroZwg6rWQ7J24IElEIOywvuq4sFxuZnVuY3Rpb24gZXh0cmFjdE1lbWJlcklkRnJvbVBob25lKHBob25lOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICB0cnkge1xuICAgIGNvbnN0IHsgbWVtYmVyU3RvcmFnZSB9ID0gcmVxdWlyZSgnQC9saWIvbWVtYmVyLXN0b3JhZ2UnKVxuICAgIGNvbnN0IG1lbWJlcnMgPSBtZW1iZXJTdG9yYWdlLmdldEFsbCgpXG4gICAgY29uc3QgbWVtYmVyID0gbWVtYmVycy5maW5kKChtOiBhbnkpID0+IG0ucGhvbmUgPT09IHBob25lKVxuICAgIHJldHVybiBtZW1iZXI/LmlkXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG59Il0sIm5hbWVzIjpbIk1FU1NBR0VfVEVNUExBVEVTIiwibWVzc2FnZVF1ZXVlIiwiTUVTU0FHRV9DT05GSUciLCJjaHVyY2hfbmFtZSIsInBhc3Rvcl9waG9uZSIsImRvbWFpbiIsInJlcGxhY2VUZW1wbGF0ZVZhcmlhYmxlcyIsInRlbXBsYXRlIiwidmFyaWFibGVzIiwicmVwbGFjZSIsIm1hdGNoIiwia2V5IiwiZ2VuZXJhdGVXZWVrbHlNZXNzYWdlcyIsInNlcm1vbiIsIm1lc3NhZ2VzIiwiYmFzZVZhcmlhYmxlcyIsInNlcm1vbl9pZCIsImlkIiwic2VybW9uX3RpdGxlIiwidGl0bGUiLCJzY3JpcHR1cmUiLCJzdW1tYXJ5Iiwic2VybW9uRGF0ZSIsIkRhdGUiLCJkYXRlIiwiZm9yRWFjaCIsInNlbmREYXRlIiwiZGF5c1RvQWRkIiwic2NoZWR1bGUiLCJkYXlfb2Zfd2VlayIsImdldERheSIsInNldERhdGUiLCJnZXREYXRlIiwic2V0SG91cnMiLCJob3VyIiwibWludXRlIiwic3BlY2lmaWNWYXJpYWJsZXMiLCJ0eXBlIiwibWVkaXRhdGlvbkxpbmVzIiwibWVkaXRhdGlvbiIsInNwbGl0IiwicXVlc3Rpb25zIiwiZmlsdGVyIiwibGluZSIsImluY2x1ZGVzIiwic2xpY2UiLCJtYXAiLCJxIiwiaSIsInRyaW0iLCJqb2luIiwibWVkaXRhdGlvbl9xdWVzdGlvbnMiLCJ0YXNrcyIsInByYWN0aWNhbF90YXNrcyIsInRhc2siLCJjb250ZW50IiwiY29udGVudF90ZW1wbGF0ZSIsImJ1dHRvbnMiLCJidXR0b25fdGVtcGxhdGUiLCJidG4iLCJ1cmwiLCJyZWNpcGllbnRzIiwibWVtYmVyU3RvcmFnZSIsInJlcXVpcmUiLCJtZXNzYWdlVHlwZSIsImFjdGl2ZVJlY2lwaWVudHMiLCJnZXRNZXNzYWdlUmVjaXBpZW50cyIsIm1lbWJlciIsInBob25lIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsImVycm9yIiwid2FybiIsInB1c2giLCJ0ZW1wbGF0ZV9pZCIsInJlY2lwaWVudF9waG9uZSIsInNjaGVkdWxlZF90aW1lIiwidG9JU09TdHJpbmciLCJzdGF0dXMiLCJnZXRTY2hlZHVsZWRNZXNzYWdlcyIsInN0b3JlZE1lc3NhZ2VzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsInRhcmdldERhdGUiLCJ0b0RhdGVTdHJpbmciLCJtc2ciLCJtc2dEYXRlIiwic2F2ZVNjaGVkdWxlZE1lc3NhZ2VzIiwiZXhpc3RpbmciLCJleGlzdGluZ01lc3NhZ2VzIiwiYWxsTWVzc2FnZXMiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwibWVzc2FnZSIsInRlbXBsYXRlQ29kZU1hcCIsInRlbXBsYXRlQ29kZSIsInF1ZXVlSXRlbSIsInRlbXBsYXRlX2NvZGUiLCJ0ZW1wbGF0ZV92YXJpYWJsZXMiLCJleHRyYWN0VmFyaWFibGVzIiwidGV4dCIsInByaW9yaXR5IiwibWF4X3JldHJpZXMiLCJtZW1iZXJfaWQiLCJleHRyYWN0TWVtYmVySWRGcm9tUGhvbmUiLCJlbnF1ZXVlIiwidXBkYXRlTWVzc2FnZVN0YXR1cyIsIm1lc3NhZ2VJZCIsInN0b3JlZCIsIm1lc3NhZ2VJbmRleCIsImZpbmRJbmRleCIsIm1lbWJlcnMiLCJnZXRBbGwiLCJmaW5kIiwibSIsInVuZGVmaW5lZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/message-generator.ts\n"));

/***/ })

});